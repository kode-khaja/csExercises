<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            odin.Practice(file)
        </title>
    
       <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
        <style>
        </style>
    </head>
    <body>
 
    </body>
    <script>
       class Node {
      constructor(val) {
         this.val = val
         this.next = null
      }
    }


    
    class SinglyLinkedList {
      constructor() {
        this.head = null
        this.tail = null
        this.length = 0
      }

      append(val) {
        let newNode = new Node(val)
        if (this.length === 0) {
          this.head = newNode
          this.tail = newNode
          this.length++
          return
        } else {
          this.tail.next = newNode
          this.tail = newNode
          this.length++
          return
        }
      }

      prepend(val) {
        let newNode = new Node(val)
        if (this.length === 0) {
          this.head = newNode
          this.tail = newNode
          this.length++
          return
        } else {
          newNode.next = this.head
          this.head = newNode
          this.length++
          return
        }
      }

      size() {
        if (this.length === 0) return 0
        return this.length
      }

      head() {
        if (this.length === 0) return null
        return this.head
      }

      tail() {
        if (this.length === 0) return null
        return this.tail
      }

      at(index) {
        if (index < 0) return null
        if (index >= this.length) return null
          let indexCounter = 0
          let current = this.head
          while(indexCounter !== index) {
            current = current.next
            indexCounter++
          }
          return current
        }

      pop() {
        if (!this.head) return null

        if (this.head === this.tail) {
          let removedNode = this.head
          this.head = null
          this.tail = null
          this.length--
          return removedNode
        }

        else {
          let current = this.head
          while(current) {
            if (current.next === this.tail) {
            let removedNode = this.tail
            let previousNode = current
            previousNode.next = null
            this.tail = previousNode
            this.length--
            return removedNode

          }
          current = current.next
        }
      }
    }
     
      contains(val) {
        if (!this.head) return null

        let current = this.head
        while(current) {
          if (val === current.val) {
            return true
          }
          current = current.next
        }
          return false

      }

      find(val) {
        if (!this.head) return null
        let current = this.head
        let index = 0
        while(current) {
          if (current.val === val) return index
          current = current.next
          index++
        } 
        return null
        }

        toString() {
          if (!this.head) return null

          let result = []
          let current = this.head

          while(current) {
            let storedNodes = current.val.toString()

            result.push(storedNodes)
            
            
          current = current.next
          }
          return result.join(' -> ')

        }
        

        insertAt(index, val) {
          let newNode = new Node(val)
          if (index < 0 || index > this.length) return null
          if (index === this.length) {
            return this.append(newNode)
          }
          if (index === 0) {
            return this.prepend(newNode)
          } 
          
          else {
              let previousNode = this.at(index - 1)
              newNode.next = previousNode.next
              previousNode.next = newNode
              this.length++
              return true
          }
        }

        shift() {
          if (!this.head) return
          if (this.head === this.tail) {
            this.head = null
            this.tail = null
            this.length--
            return
          }
          else {
            let removedNode = this.head
            removedNode.next = this.head.next
            this.head = this.head.next
            this.length--
            return
          }
        }

        removeAt(index) {
        
          if (index < 0 || index > this.length - 1) return null
          if (index === this.length - 1) {
            return this.pop()
          }
          if (index === 0) {
            return this.shift()
          } 
          
          else {
            let previousNode = this.at(index - 1)
            let removedNode = previousNode.next
            previousNode.next = removedNode.next
            this.length--
            return removedNode
          }

        }
      }
      

      const list = new SinglyLinkedList()
      console.log(list);
      

    </script>